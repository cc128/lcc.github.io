(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f0707cf"],{"053b":function(e,t,o){var i=o("1e2c"),n=o("d910").f,s=Function.prototype,c=s.toString,r=/^\s*function ([^ (]*)/,u="name";i&&!(u in s)&&n(s,u,{configurable:!0,get:function(){try{return c.call(this).match(r)[1]}catch(e){return""}}})},"153f":function(e,t,o){"use strict";var i=o("52a9"),n=o.n(i);n.a},"52a9":function(e,t,o){},b298:function(e,t,o){"use strict";o.r(t);var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"look-live"},e._l(e.liveList,(function(t,i){return o("video",{key:i,attrs:{autoplay:"autoplay",muted:"muted"},domProps:{muted:!0},on:{click:function(o){return e.getVideo(o,t)}}})})),0)},n=[],s=(o("053b"),o("e18c"),o("96db"),o("8256"),o("ab6e"),o("927c"),o("3c51"),o("db0a"),o("1cc1"),o("ab0f"),o("fc6e"),o("f30b"),o("cfd1"),o("d104"),o("f74a"),o("3598"),o("b497"),o("2909"),o("a7ef"),o("b523"),o("e671"),o("4140"),o("83db"),o("829d"),o("939f"),o("1bb1"),o("c3ba"),o("af86"),o("f1a9"),{data:function(){return{socketId:this.$store.state.socketId,liveList:this.$store.state.openLiveUserList,one:!0,mYname:sessionStorage.getItem("mYname")||null,video:null,mediaSource:null,sourceBuffer:null}},watch:{"$store.state.openLiveUserList":function(e,t){e&&(this.liveList=this.$store.state.openLiveUserList)}},created:function(){this.socketId&&this.$socket.emit("userLink",{name:this.mYname,socketId:this.socketId,type:this.$route.name})},mounted:function(){var e=this;this.$socket.on("videoData",(function(t){console.log(t),e.sourceBuffer.appendBuffer(new Uint8Array(t.video)),t.time&&e.one&&(e.one=!1,e.video.currentTime=t.time)})),this.$socket.on("sendVideo",(function(t){console.log("接收视频流",t.video),e.sourceBuffer.appendBuffer(new Uint8Array(t.video))}))},methods:{getVideo:function(e,t){console.log(e.target),this.video=e.target,this.mediaSource=new MediaSource,this.video.src=window.URL.createObjectURL(this.mediaSource),this.mediaSource.addEventListener("sourceopen",this.sourceOpen),this.$socket.emit("getVideo",{socketId:this.socketId,videoId:t.socketId})},sourceOpen:function(e){this.sourceBuffer=this.mediaSource.addSourceBuffer("video/webm;codecs=vp9")}}}),c=s,r=(o("153f"),o("9ca4")),u=Object(r["a"])(c,i,n,!1,null,null,null);t["default"]=u.exports}}]);